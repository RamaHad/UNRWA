@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager
@inject UserIRepo UserRepo
@inject IndividualIRepo individualRepo
@model ManageAppointmentDto
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" /> 
    <link rel="stylesheet" href="~/css/mange appointment.css">


    <title>manage appointment</title>
</head>
<body>
          
    <!--NaveBar-->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" style="background-color: #1d86df; height: 3.5rem;">
        <a class="navbar-brand text-center" href="#">
            <img src="~/images/user-color-64.png" alt="logo" class="img1 img-fluid">
            <span class="logo__name">@UserRepo.FindUserName(UserManager.GetUserAsync(User).Result.Id).FirstName</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse " id="navbarNavDropdown" style="background-color: #1d86df;">
          <ul class="navbar-nav" style="background-color: #1d86df; ">
            <li class="nav-item active">
              <a class="nav-link" asp-action="Logout" asp-controller="UsersManager">log out</a>
            </li>
        
          </ul>
        </div>
       
        <div class="nav__icons">
            <img src="~/images/unrwa-logo-0DB0E000FE-seeklogo.com.png" alt="logo" class=" img__1 img-fluid">
        </div>


      </nav>
      <!--Notification-->
     @if (TempData["SuccessAddQuickAppointmet"] != null)
    {
        <script src="~/lib/jquery/dist/jquery.min.js">  </script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
        <script type="text/javascript">
        toastr.success('@TempData["SuccessAddQuickAppointmet"]');
        </script>
    }
      @if (TempData["FaildAddQuickAppointmet"] != null)
    {
        <script src="~/lib/jquery/dist/jquery.min.js">  </script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
        <script type="text/javascript">
        toastr.error('@TempData["FaildAddQuickAppointmet"]');
        </script>
    }
     @if (TempData["SuccessDeleteAppointmet"] != null)
    {
        <script src="~/lib/jquery/dist/jquery.min.js">  </script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
        <script type="text/javascript">
        toastr.success('@TempData["SuccessDeleteAppointmet"]');
        </script>
    }
     @if (TempData["FaildDeleteAppointmet"] != null)
    {
        <script src="~/lib/jquery/dist/jquery.min.js">  </script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
        <script type="text/javascript">
        toastr.error('@TempData["FaildDeleteAppointmet"]');
        </script>
    }
     @if ( TempData["SuccessAddAppointmet"] != null)
    {
        <script src="~/lib/jquery/dist/jquery.min.js">  </script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
        <script type="text/javascript">
        toastr.success('@TempData["SuccessAddAppointmet"]');
        </script>
    }
      @if ( TempData["FaildAddAppointmet"] != null)
    {
        <script src="~/lib/jquery/dist/jquery.min.js">  </script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
        <script type="text/javascript">
        toastr.error('@TempData["FaildAddAppointmet"]');
        </script>
    }
      @if ( TempData["SuccessEditAppointmet"] != null)
    {
        <script src="~/lib/jquery/dist/jquery.min.js">  </script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
        <script type="text/javascript">
        toastr.success('@TempData["SuccessEditAppointmet"]');
        </script>
    }
      @if ( TempData["FaildEditAppointmet"] != null)
    {
        <script src="~/lib/jquery/dist/jquery.min.js">  </script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
        <script type="text/javascript">
        toastr.error('@TempData["FaildEditAppointmet"]');
        </script>
    }

    <!-- top buttons-->
    <div class="container" style="padding-top: 100px;" >
    <div class="row" >
        <div class="col-lg-4 col-md-12 col-ms-12">
            <a href="" target="_blank" data-scroll     data-toggle="modal" data-target="#exampleModal_1"   class="btn btn-light btn-radius button_2 btn-brd grd1 effect-1">Quick booking</a>
        </div>
        <div class="col-lg-4 col-ms-12 col-md-12">
            <a href="" target="_blank" data-scroll    data-toggle="modal" data-target="#exampleModal"  class="btn btn-light btn-radius button_2 btn-brd grd1 effect-1">add</a>
       
        </div>
        <div class="col-lg-4 col-md-12 col-ms-12">
            <a data-scroll class="btn btn-light btn-radius button_2 btn-brd grd1 effect-1" asp-action="Index" asp-controller="Clerck">Back</a>
        </div>
  
    </div>
</div>


  <!-- Add Appointment Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">

      <!--Add apointment From-->
      <form class="modal-content" asp-action="post">  
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel" style="color: #1d86df ;">Add Appointment</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: #1d86df ;">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
   
        <div class="modal-body">
        	<div class="inner" style="height: 700px" >
               
						<label class="form-group">
                       
						<h6 style="color: white; margin-bottom: 30px;">patient Name: <br/>
                            @individualRepo.FindByIndividiualId(@Model.individualId).FirstName @individualRepo.FindByIndividiualId(@Model.individualId).FatherName @individualRepo.FindByIndividiualId(@Model.individualId).LastName</h6>
						<span class="border"></span>
					</label>

                    <!--Date-->
					<div class="form-group">
                    	<label style="color: aliceblue;margin-top: 8px;">Date</label>
						<input type="date" class="form-control"  asp-for="AppointmentDate">
					</div>

                    <!--save clerck id-->
       		            <input asp-for="addAppointmentDto.ClerckId" value="@UserRepo.FindUserName(UserManager.GetUserAsync(User).Result.Id).EmployeeIdId" style="display:none"/>
                   <!--save individual id-->
                   <input asp-for="individualId"  style="display:none"/>

             <!--service select-->
          <div class="form-group"  >
              <label asp-for="addAppointmentDto.ServiceId" style="color: aliceblue;"></label>
              <select asp-for="addAppointmentDto.ServiceId" asp-items="@(new SelectList(@Model.Services,"Id","Name"))"
              class="form-select" aria-label="Default select example"  style="color: #1d86df; width: 300px;">
              <option selected></option>
            </select>
             
                   <span asp-validation-for="addAppointmentDto.ServiceId" class="text-danger"></span>
           

            </div>

           <!--Team Select-->
          <div class="form-group">
            <label asp-for="AppointmentTeamId" style="color: aliceblue;"></label>
            <select asp-for="AppointmentTeamId" asp-items="@(new SelectList(@Model.Teams,"Id","Name"))"
                class="form-select" aria-label="Default select example"  style="color: #1d86df; width: 300px;">
              <option selected></option>
              
            </select>
            <span asp-validation-for="AppointmentTeamId" class="text-danger"></span>

            </div>

          <!--provider Select-->
          <div class="form-group">
              <label asp-for="AoppointmentproviderId" style="color: aliceblue;"></label>
              <select  asp-for="AoppointmentproviderId" asp-items="@(new SelectList(@Model.ServiceProvider,"Id","Name"))"
                 class="form-select" aria-label="Default select example"  style="color: #1d86df; width: 300px;">
              <option selected></option>
              
            </select>
                       <span asp-validation-for="AoppointmentproviderId" style="color: red !important;"></span>

					</div>

                    <!--Time Select-->
          <div class="form-group">
            <label asp-for="TimeSloteId" style="color: aliceblue;"></label>
            <select asp-for="TimeSloteId" asp-items="@(new SelectList(@Model.TimeSlotes,"Id","Time"))"
                class="form-select" aria-label="Default select example" style="color: #1d86df; width: 300px;">
                <option selected></option>
            </select>
                            <span asp-validation-for="TimeSloteId" style="color:red !important;"></span>

					</div>

				@*</form>*@
			</div>
        </div>
        <div class="modal-footer">
          
          <button type="submit" class="btn btn-primary btn btn-light btn-radius button_2 btn-brd grd1 effect-1" asp-action="AddAppointment" asp-controller="Clerck">Add</button>
          <button type="button" class="btn btn-secondary  btn btn-light btn-radius button_2 btn-brd grd1 effect-1"  data-dismiss="modal">Cancel</button>
        </div>
      </form>
    </div>
  </div>




  <!-- Button trigger modal -->

  <!-- Quick Appointment Modal -->
  <div class="modal fade" id="exampleModal_1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">

      <!--Quick appointment Form -->
      <form class="modal-content" asp-action="post">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel" style="color: #1d86df ;">Quick Appointment</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: #1d86df ;">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
        	<div class="inner" style="height: 450px;">
				
					<label class="form-group">
                       
						<h6 style="color: white; margin-bottom: 30px;">patient Name: <br/>
                            @individualRepo.FindByIndividiualId(@Model.individualId).FirstName @individualRepo.FindByIndividiualId(@Model.individualId).FatherName @individualRepo.FindByIndividiualId(@Model.individualId).LastName</h6>
						<span class="border"></span>
					</label>
                   
                    <input type="hidden" asp-for="individualId"/>

		            <input asp-for="addQuickAppointmentDto.ClerckId" value="@UserRepo.FindUserName(UserManager.GetUserAsync(User).Result.Id).EmployeeIdId" style="display:none"/>
     
                    <!--service select-->
          <div class="form-group"  >
              <label asp-for="addQuickAppointmentDto.ServiceId" style="color: aliceblue;"></label>
              <select asp-for="addQuickAppointmentDto.ServiceId" asp-items="@(new SelectList(@Model.Services,"Id","Name"))"
            class="form-select" aria-label="Default select example"  style="color: #1d86df; width: 300px;">
              <option selected></option>

            </select>
            <span asp-validation-for="addQuickAppointmentDto.ServiceId" style="color:red !important;"></span>

            </div>
		
            <!--Team Select-->
          <div class="form-group">
            <label asp-for="QuickAppointmentTeamId" style="color: aliceblue;"></label>
            <select asp-for="QuickAppointmentTeamId" asp-items="@(new SelectList(@Model.Teams,"Id","Name"))"
                class="form-select" aria-label="Default select example"  style="color: #1d86df; width: 300px;">
              <option selected></option>
              
            </select>
             <span asp-validation-for="QuickAppointmentTeamId" style="color:red !important;"></span>

					</div>
                    <!--provider Select-->

          <div class="form-group">
              <label asp-for="QuickAoppointmentproviderId" style="color: aliceblue;"></label>
              <select  asp-for="QuickAoppointmentproviderId" asp-items="@(new SelectList(@Model.ServiceProvider,"Id","Name"))"
                 class="form-select" aria-label="Default select example"  style="color: #1d86df; width: 300px;">
              <option selected></option>
            </select>
             <span asp-validation-for="QuickAoppointmentproviderId" style="color:red !important;"></span>

					</div>
      
				
			</div>
        </div>
        <div class="modal-footer">
                  
          <button type="submit" class="btn btn-primary btn btn-light btn-radius button_2 btn-brd grd1 effect-1" asp-action="AddQuickAppointment" asp-controller="Clerck" id="addquick">Add</button>
          <button type="button" class="btn btn-secondary  btn btn-light btn-radius button_2 btn-brd grd1 effect-1"  data-dismiss="modal">Cancel</button>
        </div>
      </form>
    </div>
  </div>
    <div class="table_box">


        <!--Appointments Table-->

        <table class="table">
            <thead>
                <tr>
                 <th style="width: 18%;" class="head">Status</th>
        
                 <th  style="width: 18%;"  class="head">Date</th>
                
                 <th style="width: 18%;"  class="head">Service</th>
                 <th style="width: 20%;"  class="head">Who provided the Service</th>
             
                 <th style="width:25%;"  class="head">Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Appointments)
                {

                      <tr>
                        @if(@item.Status ==2 ) //quick appointment>
                        {
                            <td style="color:dimgray;  font-weight: bold">Quick</td>
                        }
                        else if(@item.Status == 1) //it is done
                        {
                             <td style="color:blue;  font-weight: bold">Done</td>
                        }
                        else if ((item.DateOfReservation < DateTime.Now) && item.Status == 0 ) // status == 0 => is missing
                        {
                            <td style="color:red;  font-weight: bold">missing</td>
                        }
                        else if((item.DateOfReservation > DateTime.Now))
                        {
                           <td style="color:green;  font-weight: bold">Waitting</td>
                        }

                        <td >@item.DateOfReservation</td>
                        <td >@item.ServiceName</td>
                        <td> @item.EmployeeForServiceName </td>
                      
                             <td>
                            <a href="" target="_blank" data-scroll class="btn btn-light btn-radius button_1 btn-brd grd1 effect-1"  data-toggle="modal" data-target="#EditModal_@item.AppointmentId"  >Edit  <i class='bx bx-edit-alt'></i></a>
                            <a href="" target="_blank" data-scroll class="btn btn-light btn-radius button_1 btn-brd grd1 effect-1" data-toggle="modal" data-target="#exampleModal_@item.AppointmentId" >Delete <i class='bx bx-trash'></i></a>   
                           
                            </td>
         

                    </tr>

                }
        
            </tbody>
          </table>
        </div>

   <!--Notes-->

<div class="container">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-ms-12">
            <div class="content">
                <h3 style="padding-left: 30px;">
                    notes: 
                </h3>
          
                 <textarea placeholder="Write Your notes..."></textarea>
            </div>
        </div>
    </div>
</div>



  <!-- Delete Modal --> 
@foreach (var item in Model.Appointments)
    {

    <form class="modal fade" id="exampleModal_@item.AppointmentId" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" method="post">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel" style="color: #1d86df;">Delete Appointment</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: #1d86df;">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="color: #1d86df;">
     Are you sure you want to delete this appointment?
      </div>
      <div class="modal-footer">
        <input type="hidden" asp-for="individualId" value="@item.IndividualId" />
        <input type="hidden" asp-for="AppointmetId" value="@item.AppointmentId" >
        <button type="submit" class="btn btn-primary button_2 btn-brd grd1 effect-1" asp-action="DeleteAppointment" asp-controller="Clerck" >Yes</button>
        <button type="button" class="btn btn-secondary button_2 btn-brd grd1 effect-1" data-dismiss="modal" >No</button>
      </div>
    </div>
  </div>
</form>
    }

    <!--Edit Model to do later-->
    @foreach (var item in Model.Appointments)
    {
          <form class="modal fade" id="EditModal_@item.AppointmentId" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" method="post">
              <!--save apoointmentId and individualId-->
               <input type="hidden" asp-for="EditAppointmentIndividualId" value="@item.IndividualId" />
               <input type="hidden" asp-for="EditAppointmentId" value="@item.AppointmentId" >

    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel" style="color: #1d86df ;">Edit Appointment</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: #1d86df ;">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
        	<div class="inner" style="height: 700px">	
                <!--pationt Name-->
					<label class="form-group">
                       
						<h6 style="color: white; margin-bottom: 30px;">patient Name: <br/>
                            @individualRepo.FindByIndividiualId(@Model.individualId).FirstName @individualRepo.FindByIndividiualId(@Model.individualId).FatherName @individualRepo.FindByIndividiualId(@Model.individualId).LastName</h6>
						<span class="border"></span>
					</label>
                    <!--date-->
					<div class="form-group">
                    	<label style="color: aliceblue;margin-top: 8px;">Date</label>
						<input type="date" class="form-control"  asp-for="NewDate" >
                           <span asp-validation-for="NewDate" class="text-danger"></span>

					</div>


       <!--service Select-->
          <label class="form-group">
         	<label style="color: aliceblue;margin-top: 8px;">Service</label>

            <select asp-for="NewServiceId" asp-items="@(new SelectList(@Model.Services,"Id","Name"))"
                class="form-select" aria-label="Default select example"  style="color: #1d86df; width: 300px;">
                <option selected></option>
            </select>
                 <span asp-validation-for="NewServiceId" class="text-danger"></span>

					</label>

       <!--team select-->
          <label class="form-group">
             	<label style="color: aliceblue;margin-top: 8px;">Team</label>

            <select  asp-for="NewTeamId"  asp-items="@(new SelectList(@Model.Teams,"Id","Name"))"
                class="form-select" aria-label="Default select example"  style="color: #1d86df; width: 300px;">
              <option selected></option>
            </select>
                   <span asp-validation-for="NewTeamId" class="text-danger"></span>

					</label>

       <!--provider select-->
          <label class="form-group">
           	<label style="color: aliceblue;margin-top: 8px;">Provider</label>
            <select asp-for="NewProviderId" asp-items="@(new SelectList(@Model.ServiceProvider,"Id","Name"))"
                class="form-select" aria-label="Default select example"  style="color: #1d86df; width: 300px;">
              <option selected></option>
            </select>
          <span asp-validation-for="NewProviderId" class="text-danger"></span>

					</label>

       <!--time select-->
           <label class="form-group">
     	<label style="color: aliceblue;margin-top: 8px;">Time</label>

            <select asp-for="NewTimeSlotId" asp-items="@(new SelectList(@Model.TimeSlotes,"Id","Time"))"
                class="form-select" aria-label="Default select example" style="color: #1d86df; width: 300px;">             
            </select>
                      <span asp-validation-for="NewTimeSlotId" class="text-danger"></span>

					</label>
				
			</div>
        </div>
        <div class="modal-footer">
          
          <button type="submit" class="btn btn-primary btn btn-light btn-radius button_2 btn-brd grd1 effect-1" asp-action="EditAppointment" asp-controller="Clerck">Save</button>
          <button type="button" class="btn btn-secondary  btn btn-light btn-radius button_2 btn-brd grd1 effect-1"  data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </form>
    }


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
</body>
</html>
@section Scripts{
    <script>
        //add apppointment team select
        $(document).ready(function() {
    $('#AppointmentTeamId').on('change', function() {
        var teamId = $(this).val();
        if (teamId !== '') {
              $.ajax({
            url: '/Clerck/GetHealthProvider?teamId=' + teamId,
            success: function(result) {
         $('#AoppointmentproviderId').empty();
                $('#AoppointmentproviderId').append($('<option></option>'));
                $.each(result , function(i, provider){
                    $('#AoppointmentproviderId').append($('<option></option>').attr('value', provider.id).text(provider.name));
                });
            },
            error: function() {
                alert('something wrong!');
            }
        });
        }
    });
});

       // quick appointent provider select
       $(document).ready(function() {
    $('#QuickAppointmentTeamId').on('change', function() {
        var teamId = $(this).val();
        if (teamId !== '') {
              $.ajax({
            url: '/Clerck/GetHealthProvider?teamId=' + teamId,
            success: function(result) {
                 $('#QuickAoppointmentproviderId').empty();
                $('#QuickAoppointmentproviderId').append($('<option></option>'));

                $.each(result , function(i, provider){
                    $('#QuickAoppointmentproviderId').append($('<option></option>').attr('value', provider.id).text(provider.name));
                });
            },
            error: function() {
                alert('something wrong!');
            }
        });
        }
    });
});


      //add apointment time slote select
      $(document).ready(function() {

    $('#AoppointmentproviderId').add('#AppointmentDate').on('change', function() {
        var date = $(this).val();
       
              $.ajax({
            url: '/Clerck/GetAvaliabelTimeSlote',
            type: "POST",
            data: {
                AppointmentDate:$("#AppointmentDate").val(),  
                AoppointmentproviderId:$("#AoppointmentproviderId").val(),
            },
            success: function(result) {
                $('#TimeSloteId').empty();
                $('#TimeSloteId').append($('<option></option>'));
                $.each(result , function(i, time){
                    $('#TimeSloteId').append($('<option></option>').attr('value', time.id).text(time.time));
                });
              
            },
            error: function() {
                alert('something wrong!');
            }
        });
        
    });
});
     

       // edit time slote select
     $(document).ready(function() {

    $('#NewProviderId').add('#NewDate').on('change', function() {
        var date = $(this).val();
       
              $.ajax({
            url: '/Clerck/GetAvaliabelTimeSlote',
            type: "POST",
            data: {
                AppointmentDate:$("#NewDate").val(),  
                AoppointmentproviderId:$("#NewProviderId").val(),
            },
            success: function(result) {
                $('#NewTimeSlotId').empty();
                $('#NewTimeSlotId').append($('<option></option>'));
                $.each(result , function(i, time){
                    $('#NewTimeSlotId').append($('<option></option>').attr('value', time.id).text(time.time));
                });
              
            },
            error: function() {
                alert('something wrong!');
            }
        });
        
    });
});

       //edit provider select
     $(document).ready(function() {
    $('#NewTeamId').on('change', function() {
        var teamId = $(this).val();
        if (teamId !== '') {
              $.ajax({
            url: '/Clerck/GetHealthProvider?teamId=' + teamId,
            success: function(result) {
               $('#NewProviderId').empty();
                $('#NewProviderId').append($('<option></option>'));
                $.each(result , function(i, provider){
                    $('#NewProviderId').append($('<option></option>').attr('value', provider.id).text(provider.name));
                });
            },
            error: function() {
                alert('something wrong!');
            }
        });
        }
    });
});


    </script>
  <partial name="_ValidationScriptsPartial"></partial>
     
}


     